const toolExecutors = {
  // 'tab_read_dom': executeTabReadDom,
  // ...
};
chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {
  if (message.type === "tool_execute") {
    console.log("Received tool execution request:", message);
    const executor = toolExecutors[message.name];
    if (!executor) {
      sendResponse({ error: `Unknown local tool: ${message.name}` });
      return true;
    }
    executor(message.args).then((result) => sendResponse({ result })).catch((err) => sendResponse({ error: err.message }));
    return true;
  }
});
chrome.sidePanel.setPanelBehavior({ openPanelOnActionClick: true }).catch((error) => console.error(error));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZXMiOlsiLi4vYmFja2dyb3VuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTZXJ2aWNlIFdvcmtlciBmb3IgVG9wIEFJIElkZWFzIEV4dGVuc2lvblxuXG4vLyBUb29sIGV4ZWN1dG9yIHJlZ2lzdHJ5IHBsYWNlaG9sZGVyXG5jb25zdCB0b29sRXhlY3V0b3JzOiBSZWNvcmQ8c3RyaW5nLCAoYXJnczogYW55KSA9PiBQcm9taXNlPHVua25vd24+PiA9IHtcbiAgICAvLyAndGFiX3JlYWRfZG9tJzogZXhlY3V0ZVRhYlJlYWREb20sXG4gICAgLy8gLi4uXG59O1xuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3Rvb2xfZXhlY3V0ZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHRvb2wgZXhlY3V0aW9uIHJlcXVlc3Q6JywgbWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGV4ZWN1dG9yID0gdG9vbEV4ZWN1dG9yc1ttZXNzYWdlLm5hbWVdO1xuICAgICAgICBpZiAoIWV4ZWN1dG9yKSB7XG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBlcnJvcjogYFVua25vd24gbG9jYWwgdG9vbDogJHttZXNzYWdlLm5hbWV9YCB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dG9yKG1lc3NhZ2UuYXJncylcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiBzZW5kUmVzcG9uc2UoeyByZXN1bHQgfSkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHNlbmRSZXNwb25zZSh7IGVycm9yOiBlcnIubWVzc2FnZSB9KSk7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBhc3luYyByZXNwb25zZVxuICAgIH1cbn0pO1xuXG5jaHJvbWUuc2lkZVBhbmVsLnNldFBhbmVsQmVoYXZpb3IoeyBvcGVuUGFuZWxPbkFjdGlvbkNsaWNrOiB0cnVlIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sYUFBQSxHQUFpRTtBQUFBO0FBQUE7QUFHdkUsQ0FBQTtBQUVBLE1BQUEsQ0FBTyxRQUFRLFNBQUEsQ0FBVSxXQUFBLENBQVksQ0FBQyxPQUFBLEVBQVMsUUFBUSxZQUFBLEtBQWlCO0FBQ3BFLEVBQUEsSUFBSSxPQUFBLENBQVEsU0FBUyxjQUFBLEVBQWdCO0FBQ2pDLElBQUEsT0FBQSxDQUFRLEdBQUEsQ0FBSSxvQ0FBb0MsT0FBTyxDQUFBO0FBQ3ZELElBQUEsTUFBTSxRQUFBLEdBQVcsYUFBQSxDQUFjLE9BQUEsQ0FBUSxJQUFJLENBQUE7QUFDM0MsSUFBQSxJQUFJLENBQUMsUUFBQSxFQUFVO0FBQ1gsTUFBQSxZQUFBLENBQWEsRUFBRSxLQUFBLEVBQU8sQ0FBQSxvQkFBQSxFQUF1QixPQUFBLENBQVEsSUFBSSxJQUFJLENBQUE7QUFDN0QsTUFBQSxPQUFPLElBQUE7QUFBQSxJQUNYO0FBQ0EsSUFBQSxRQUFBLENBQVMsUUFBUSxJQUFJLENBQUEsQ0FDaEIsS0FBSyxDQUFBLE1BQUEsS0FBVSxZQUFBLENBQWEsRUFBRSxNQUFBLEVBQVEsQ0FBQyxDQUFBLENBQ3ZDLEtBQUEsQ0FBTSxTQUFPLFlBQUEsQ0FBYSxFQUFFLE9BQU8sR0FBQSxDQUFJLE9BQUEsRUFBUyxDQUFDLENBQUE7QUFDdEQsSUFBQSxPQUFPLElBQUE7QUFBQSxFQUNYO0FBQ0osQ0FBQyxDQUFBO0FBRUQsTUFBQSxDQUFPLFNBQUEsQ0FBVSxnQkFBQSxDQUFpQixFQUFFLHNCQUFBLEVBQXdCLElBQUEsRUFBTSxDQUFBLENBQzdELEtBQUEsQ0FBTSxDQUFDLEtBQUEsS0FBVSxPQUFBLENBQVEsS0FBQSxDQUFNLEtBQUssQ0FBQyxDQUFBIn0=
