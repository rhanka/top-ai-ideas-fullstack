services:
  e2e:
    image: ${REGISTRY}/${E2E_IMAGE_NAME:-top-ai-ideas-e2e}:${E2E_VERSION:-latest}
    build:
      context: ./e2e
      dockerfile: Dockerfile
    volumes:
      - ./e2e/tests:/app/tests
    depends_on:
      - postgres
      - api
      - ui
    command: sleep 1800

  ui:
    depends_on:
      api:
        condition: service_healthy
